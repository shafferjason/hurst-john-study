<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hurst Class Study: Book of John</title>
    
    <!-- Open Graph Meta Tags -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://shafferjason.github.io/john-study/">
    <meta property="og:title" content="Hurst Class Study: Book of John">
    <meta property="og:description" content="Presented by The Tenth Hour">
    <meta property="og:image" content="https://shafferjason.github.io/john-study/images/og-image.png">
    
    <!-- Twitter Card Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Hurst Class Study: Book of John">
    <meta name="twitter:description" content="Presented by The Tenth Hour">
    <meta name="twitter:image" content="https://shafferjason.github.io/john-study/images/og-image.png">
    
    <link rel="stylesheet" href="style.css?v=76">
</head>
<body>
    <!-- Reading progress bar will be auto-injected here by JavaScript -->
    
    <div class="container">
        <header>
            <h1>Hurst Class Study:<br class="mobile-break"> Book of John</h1>
            <p class="subtitle-text">Presented by</p>
            <img src="logo.svg" alt="The Tenth Hour" class="tenth-hour-logo">
        </header>
        
        <section class="about-section">
            <p class="about-preview">
                A collection of lessons exploring the Gospel of John through Scripture, music, and reflection.
            </p>
            <details class="accordion">
                <summary>Read More</summary>
                <!-- Divider INSIDE accordion, before content -->
                <div class="divider-ornate"></div>
                <div class="accordion-content">
                    <p>
                        This study guide brings together careful examination of the Gospel of John with 
                        contemporary Christian music. Each lesson includes a detailed summary of the passage, 
                        a song that connects thematically to the text, and an explanation of how the music 
                        illuminates the biblical truth. The songs don't attempt to cover an entire lesson—instead, 
                        they're inspired by a moment, theme, or idea that stood out, and may help the lesson 
                        linger with you. Whether you're studying individually or as part of a group, we hope 
                        these resources help deepen your understanding of John's Gospel and draw you into an 
                        encounter with Jesus through both Scripture and song.
                    </p>
                    <p>
                        We invite you to do what the Gospel of John itself invites: 
                        <strong>come and see for yourself</strong>. Don't take these lessons and songs as the 
                        final word. Open the Scriptures. Read the passages. Ask your own questions. The goal 
                        has never been to create passive listeners, but to spark a deeper, personal encounter 
                        with Christ—to understand who He is, why He came, and what it means to believe in 
                        His name.
                    </p>
                    <p>
                        After all, John told us why he wrote: <em>"These are written that you may believe 
                        that Jesus is the Messiah, the Son of God, and that by believing you may have life 
                        in his name."</em> (John 20:31)
                    </p>
                    <p>
                        That's our hope for you too.
                    </p>
                    
                    <!-- Golden divider before production note -->
                    <hr class="content-divider">
                    
                    <p class="production-note">
                        <em>A note on how this was made: This website and its music were created with the help 
                        of AI tools, and the lessons are drawn from a Bible study among fellow believers 
                        seeking to understand Scripture together. This content has been reviewed for accuracy 
                        but not by a biblical scholar—despite our best efforts, some errors may remain.</em>
                    </p>
                </div>
            </details>
        </section>

        <!-- About This Music Section with Accordion -->
        <section class="about-music-section">
            <h3>About This Music</h3>
            
            <!-- Preview text - always visible -->
            <p class="preview-text">
                "The Tenth Hour" is a musical project focused on life-changing encounters with God, inspired by the Gospel of John's powerful moments of struggle, grace, doubt, and revelation.
            </p>
            
            <!-- Accordion for expanded content -->
            <details class="accordion">
                <summary>Read More About the Music</summary>
                <!-- Divider INSIDE accordion, before content -->
                <div class="divider-ornate"></div>
                <div class="accordion-content">
                    <p>
                        Welcome. "The Tenth Hour" is a musical project focused on the "turning point"—those life-changing moments where a person has a real encounter with God. The name comes from John 1:39, the <em>original</em> "tenth hour" when the first disciples met Jesus and their lives were changed.
                    </p>
                    <p>
                        This study of the Gospel of John is our main inspiration. The book is filled with these powerful encounters. These lessons, with their themes of "struggle and grace" and "doubt and revelation", are what sparked these songs.
                    </p>
                    <p>
                        Our goal is to <strong>highlight the key points of each lesson</strong> by sharing a story, not by preaching. This music uses an "honest, earthy" folk-rock sound to tell a timeless truth through a real, personal story. As you go through this study, we hope this music feels less like a performance and more like a group of friends sharing their experience alongside you.
                    </p>
                    <p>
                        Our hope is that this music helps you connect with these lessons and makes the truths of the Gospel feel personal.
                    </p>
                    
                    <!-- Golden divider before production note -->
                    <hr class="content-divider">
                    
                    <p class="production-note">
                        <em>A note on the production: To bring these lyrical themes to life, the music for The Tenth Hour was produced using AI tools, guided by the creative vision for a roots-rock, folk, and soul sound.</em>
                    </p>
                </div>
            </details>
        </section>

        <section class="lessons-section">
            <div class="lessons-header">
                <h2>Lessons</h2>
                <button class="sort-toggle" id="sort-toggle" aria-label="Toggle lesson order">
                    <span class="sort-label" id="sort-label">Newest First</span>
                    <svg class="sort-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="16" height="16">
                        <path d="M7 10l5 5 5-5z"/>
                    </svg>
                </button>
            </div>
            <div id="lessons-list">
                <!-- Lessons will be dynamically inserted here -->
            </div>
        </section>
    </div>

    <!-- Back-to-top button will be auto-injected here by JavaScript -->

    <script src="data.js"></script>
    <script>
        // Sort preference from localStorage (default: newest first for regular users)
        const SORT_KEY = 'lessonSortOrder';
        let sortNewestFirst = localStorage.getItem(SORT_KEY) !== 'oldest';
        
        const lessonsList = document.getElementById('lessons-list');
        const sortToggle = document.getElementById('sort-toggle');
        const sortLabel = document.getElementById('sort-label');
        
        // Render lessons based on current sort order
        function renderLessons() {
            lessonsList.innerHTML = '';
            
            if (typeof lessonData !== 'undefined' && lessonData.length > 0) {
                // Create a copy to sort
                const sortedLessons = [...lessonData];
                
                if (sortNewestFirst) {
                    sortedLessons.reverse();
                }
                
                sortedLessons.forEach(lesson => {
                    const lessonItem = document.createElement('div');
                    lessonItem.className = 'lesson-item';
                    
                    const link = document.createElement('a');
                    link.href = `lesson.html?id=${lesson.id}`;
                    link.innerHTML = `
                        <span class="lesson-title">${lesson.title}</span>
                        <span class="lesson-scripture">${lesson.scripture}</span>
                    `;
                    
                    lessonItem.appendChild(link);
                    lessonsList.appendChild(lessonItem);
                });
            } else {
                lessonsList.innerHTML = '<p class="no-lessons">No lessons available yet. Check back soon!</p>';
            }
        }
        
        // Update toggle button text
        function updateToggleLabel() {
            sortLabel.textContent = sortNewestFirst ? 'Newest First' : 'Oldest First';
            sortToggle.classList.toggle('flipped', !sortNewestFirst);
        }
        
        // Toggle click handler
        sortToggle.addEventListener('click', () => {
            sortNewestFirst = !sortNewestFirst;
            localStorage.setItem(SORT_KEY, sortNewestFirst ? 'newest' : 'oldest');
            updateToggleLabel();
            renderLessons();
        });
        
        // Initial render
        updateToggleLabel();
        renderLessons();
    </script>

    <!-- UX Enhancements: Progress Bar & Back-to-Top Button -->
    <script src="ux-enhancements.js"></script>
</body>
</html>
